if(!apex.widget||typeof(apex.widget)!="object"){apex.widget={}}if(apex.widget.calendar===null||typeof(apex.widget.calendar)!="object"){apex.widget.calendar={}}apex.widget={textarea:function(f,c){var h=apex.jQuery("#"+f),g=apex.jQuery.extend({isResizable:false,hasCharCounter:false,maxChar:null},c);if(h.length===0){return}function e(){var k=null,j=null,i=h.width(),l=h.height();h.css("resize","none");apex.jQuery("div.apex_size_bar, div.apex_size_grip",h.parent()).mousedown(m);h.parent().width(h.outerWidth());function m(q){k=h.width()-q.pageX;j=h.height()-q.pageY;h.css("opacity",0.25);apex.jQuery(document).bind("mousemove.apex_startResize",function(r){return o(r,(apex.jQuery(q.currentTarget).css("cursor")=="se-resize"))}).bind("mouseup.apex_startResize",n);return false}function o(q,r){h.height(Math.max(l,j+q.pageY)+"px");if(r){h.width(Math.max(i,k+q.pageX)+"px");h.parent().width(h.outerWidth())}return false}function n(q){apex.jQuery(document).unbind("mousemove.apex_startResize").unbind("mouseup.apex_startResize");h.css("opacity",1)}}function a(){var i=h.val().length,j=i/g.maxChar*100;if(i>=g.maxChar){h.val(h.val().substr(0,g.maxChar));h.css("color","red");b.html(g.maxChar)}else{h.css("color","black");b.html(i)}if(i>0){d.show()}else{d.hide()}if(j>95){d.css("color","red")}else{if(j>=90){d.css("color","#EAA914")}else{d.css("color","black")}}}if(g.isResizable){e()}if(g.hasCharCounter){var d=apex.jQuery("#"+f+"_CHAR_COUNT"),b=apex.jQuery("#"+f+"_CHAR_COUNTER");h.change(a).keyup(a).focus(a)}},resizable:function(a){apex.widget.textarea(a,{isResizable:true})},waitPopup:function(b){var a=(b?b:'<img id="img_progress" src="'+apex_img_dir+'processing3.gif">');if(!$x("apex_wait_popup")){apex.jQuery('<div id="apex_wait_popup" class="apex_wait_popup">'+a+'</div><div id="apex_wait_overlay" class="apex_wait_overlay"></div>').prependTo("body")}else{apex.jQuery("#apex_wait_popup").html(a)}$x("apex_wait_overlay").style.visibility="visible";window.setTimeout('apex.jQuery("#apex_wait_popup").html(apex.jQuery("#apex_wait_popup").html());',100)},regionDisplaySelector:function(c){var b=apex.jQuery("#"+c+"_RDS"),a=apex.jQuery("a[href!=#SHOW_ALL]",b);apex.jQuery(b).delegate("a","click",function(d){var e=this,f=apex.jQuery(e).attr("href");if(f=="#SHOW_ALL"){a.each(function(){apex.jQuery(apex.jQuery(this).attr("href")+":hidden").show()})}else{a.each(function(){apex.jQuery(apex.jQuery(this).attr("href")+":visible").hide()});apex.jQuery(f).show()}apex.jQuery(".apex-rds-selected",b).removeClass("apex-rds-selected");apex.jQuery(e).parent().addClass("apex-rds-selected");d.preventDefault()})}};apex.widget.initPageItem=function(a,b){apex.item(a,b)};apex.widget.enableIcon=function(b,a,c){b.find("img").css({opacity:1,cursor:""}).parent("a").attr("href",a);if(c){b.click(c)}};apex.widget.disableIcon=function(a){a.find("img").css({opacity:0.5,cursor:"default"}).parent("a").removeAttr("href").unbind("click")};apex.widget.autocomplete=function(h,a,i){var d=null;function q(){d.trigger("apexrefresh")}function l(){d.trigger("apexbeforerefresh");$s(d[0],"","");d.flushCache();d.trigger("apexafterrefresh")}function g(r){var s=typeof r==="string"?r:r[0];if(e.isEscaped){return apex.util.escapeSc(s)}else{return s}}function f(r){if(e.isEscaped){return apex.util.escapeSc(r.d)}else{return r.d}}function m(r){if(!r){return[]}return apex.jQuery.map(r,function(s){return{data:s,value:s,result:s}})}function k(r){return apex.jQuery.map(r,function(s){return{data:s,value:s.r,result:s.d}})}function o(r){return r}function c(r){return typeof r==="string"?r:r[0]}function b(r,s){$s(this.id+"_HIDDENVALUE",(s?s.r:""))}function n(r){if(!this.value){$s(this.id+"_HIDDENVALUE","")}else{if(!i.mustMatch){$s(this.id+"_HIDDENVALUE",this.value)}}}function j(s,u){var r=apex.jQuery.extend({x01:s.q,x02:s.limit,x03:s.timestamp,p_arg_names:[],p_arg_values:[],p_request:"NATIVE="+i.ajaxIdentifier,p_flow_id:$v("pFlowId"),p_flow_step_id:$v("pFlowStepId"),p_instance:$v("pInstance")},s);delete r.q;delete r.limit;delete r.timestamp;if(i.optimizeRefresh){var t=false;apex.jQuery(i.dependingOnSelector+","+i.pageItemsToSubmit).each(function(){if(apex.item(this).isEmpty()){t=true;return false}});if(t){return}}apex.jQuery(i.dependingOnSelector+","+i.pageItemsToSubmit).each(function(){var v=r.p_arg_names.length;r.p_arg_names[v]=this.id;r.p_arg_values[v]=$v(this)});apex.jQuery.ajax({mode:"abort",port:"autocomplete",dataType:"json",type:"post",url:"wwv_flow.show",traditional:true,data:r,success:u})}var e=apex.jQuery.extend({formatItem:i.useHiddenField?f:g,formatResult:o,formatMatch:c,parse:i.useHiddenField?k:m,multiple:i.multipleSeparator?true:false,matchSubset:!i.matchContains,isEscaped:true},i);delete e.useHiddenField;delete e.ajaxIdentifier;delete e.dependingOnSelector;delete e.optimizeRefresh;delete e.pageItemsToSubmit;d=apex.jQuery(h).autocomplete((a)?a:j,e);if(i.useHiddenField){d.result(b).change(n)}if(i.dependingOnSelector){apex.jQuery(i.dependingOnSelector).change(q)}d.bind("apexrefresh",l)};apex.widget.selectList=function(d,e){var g=apex.jQuery.extend({dependingOnSelector:null,optimizeRefresh:true,pageItemsToSubmit:null,optionAttributes:null,nullValue:""},e),b=apex.jQuery(d);b.each(function(){apex.widget.initPageItem(this.id,{nullValue:g.nullValue})});function a(){apex.jQuery("option[value!="+g.nullValue+"]",b).remove()}function c(i){b.next(".loading-indicator").remove();if(i.error){alert(i.error);return false}var h="";apex.jQuery.each(i,function(){h=h+'<option value="'+this.r+'" '+g.optionAttributes+">"+this.d+"</option>"});b.append(h).trigger("apexafterrefresh");b.change()}function f(){a();b.trigger("apexbeforerefresh");if(g.optimizeRefresh){var i=false;apex.jQuery(g.dependingOnSelector).each(function(){if(apex.item(this).isEmpty()){i=true;return false}});if(i){b.change();b.trigger("apexafterrefresh");return}}var h={p_arg_names:[],p_arg_values:[],p_request:"NATIVE="+g.ajaxIdentifier,p_flow_id:$v("pFlowId"),p_flow_step_id:$v("pFlowStepId"),p_instance:$v("pInstance")};apex.jQuery(g.dependingOnSelector+","+g.pageItemsToSubmit).each(function(){var j=h.p_arg_names.length;h.p_arg_names[j]=this.id;h.p_arg_values[j]=$v(this)});b.after('<span class="loading-indicator"></span>');apex.jQuery.ajax({mode:"abort",port:"selectlist"+d,dataType:"json",type:"post",url:"wwv_flow.show",traditional:true,data:h,success:c})}if(g.dependingOnSelector){apex.jQuery(g.dependingOnSelector).bind("apexbeforerefresh",a).change(f)}b.bind("apexrefresh",f)};apex.widget.popupLov=function(a,c){var f=apex.jQuery.extend({dependingOnSelector:null,optimizeRefresh:true,pageItemsToSubmit:null,nullValue:"",filterWithValue:false,windowParameters:null,inputField:"NOT_ENTERABLE"},c),d=apex.jQuery(a);apex.jQuery(a).each(function(){var h=(f.inputField=="ENTERABLE");apex.widget.initPageItem(this.id,{enable:function(){apex.widget.enableIcon(apex.jQuery("#"+this.id+"_holder").find("a"),"#",b);if(h){d.removeAttr("disabled").removeClass("apex_disabled")}else{apex.jQuery("#"+this.id+"_HIDDENVALUE").removeAttr("disabled")}},disable:function(){apex.widget.disableIcon(apex.jQuery(d).closest("tr"));if(h){d.attr("disabled","disabled").addClass("apex_disabled")}else{apex.jQuery("#"+this.id+"_HIDDENVALUE").attr("disabled","disabled")}},show:function(){apex.jQuery("#"+this.id).closest("tr").show()},hide:function(){apex.jQuery("#"+this.id).closest("tr").hide()},setValue:function(i,j){if(h){apex.jQuery("#"+this.id).val(i)}else{apex.jQuery("#"+this.id+"_HIDDENVALUE").val(i);apex.jQuery("#"+this.id).val(j)}},getValue:function(){var i;if(h){i=apex.jQuery("#"+this.id).val()}else{i=apex.jQuery("#"+this.id+"_HIDDENVALUE").val()}return i},nullValue:f.nullValue})});function g(){d.trigger("apexrefresh")}function e(){d.trigger("apexbeforerefresh");$s(d.attr("id"),f.nullValue,f.nullValue);d.trigger("apexafterrefresh");return}function b(){var i="wwv_flow.show?p_flow_id="+$v("pFlowId")+"&p_flow_step_id="+$v("pFlowStepId")+"&p_instance="+$v("pInstance")+"&p_request=NATIVE%3D"+f.ajaxIdentifier;if(f.filterWithValue){i=i+"&x02="+encodeURIComponent(d.val())}apex.jQuery(f.dependingOnSelector+","+f.pageItemsToSubmit).each(function(){i=i+"&p_arg_names="+encodeURIComponent(this.id)+"&p_arg_values="+encodeURIComponent($v(this))});var h=open(i,"winLovList",f.windowParameters);if(h.opener==null){h.opener=self}h.focus();return false}apex.jQuery(a+"_fieldset a").click(b);if(f.dependingOnSelector){apex.jQuery(f.dependingOnSelector).change(g)}d.bind("apexrefresh",e)};apex.widget.checkboxAndRadio=function(b,d,c){var f=apex.jQuery.extend({action:null,dependingOnSelector:null,optimizeRefresh:true,pageItemsToSubmit:null,numberOfColumns:1,nullValue:"",inputName:null,attributes:null,optionAttributes:null},c),g=apex.jQuery(b);apex.jQuery(b).each(function(){var i=apex.jQuery(":"+d,$x(this.id));apex.widget.initPageItem(this.id,{enable:function(){i.removeAttr("disabled").removeClass("apex_disabled_multi")},disable:function(){i.attr("disabled","disabled").addClass("apex_disabled_multi")},setValue:function(j){var l=[];i.removeAttr("checked");if(d=="checkbox"){l=apex.util.toArray(j)}else{l[0]=j}for(var k=0;k<l.length;k++){i.filter("[value="+l[k]+"]").attr("checked",true)}},getValue:function(){var k,j;if(d==="checkbox"){k=[];apex.jQuery(":checked",$x(this.id)).each(function(){k[k.length]=this.value})}else{j=apex.jQuery(b+" :checked");if(j.length===0){k=""}else{k=j.val()}}return k},nullValue:f.nullValue})});function h(){g.trigger("apexrefresh")}function a(j){g.empty();if(j.error){alert(j.error);return false}var i="";if(f.numberOfColumns>1){i=i+'<table summary="" class="'+(d==="checkbox"?"checkboxs":"radiogroup")+'">'}apex.jQuery.each(j,function(k){if(f.numberOfColumns>1){if((k+1)%f.numberOfColumns==1){if(k>0){i=i+"</tr>"}i=i+"<tr>"}i=i+"<td>"}i=i+'<input type="'+d+'" id="'+g.attr("id")+"_"+k+'" '+(f.inputName?'name="'+f.inputName+'" ':"")+'value="'+this.r+'" '+f.attributes+" />";if(this.d){if(f.optionAttributes){i=i+"<span "+f.optionAttributes+">"}i=i+'<label for="'+g.attr("id")+"_"+k+'">'+this.d+"</label";if(f.optionAttributes){i=i+"</span>"}}if(f.numberOfColumns>1){i=i+"</td>"}else{if((j.length-1)!=k){i=i+"<br />"}}});g.append(i).trigger("apexafterrefresh")}function e(){g.trigger("apexbeforerefresh");g.empty();g.change();if(f.optimizeRefresh){var j=false;apex.jQuery(f.dependingOnSelector).each(function(){if(apex.item(this).isEmpty()){j=true;return false}});if(j){g.trigger("apexafterrefresh");return}}var i={p_arg_names:[],p_arg_values:[],p_request:"NATIVE="+f.ajaxIdentifier,p_flow_id:$v("pFlowId"),p_flow_step_id:$v("pFlowStepId"),p_instance:$v("pInstance")};apex.jQuery(f.dependingOnSelector+","+f.pageItemsToSubmit).each(function(){var k=i.p_arg_names.length;i.p_arg_names[k]=this.id;i.p_arg_values[k]=$v(this)});g.append('<span class="loading-indicator"></span>');apex.jQuery.ajax({mode:"abort",port:"checkboxRadio"+b,dataType:"json",type:"post",url:"wwv_flow.show",traditional:true,data:i,success:a})}if(f.dependingOnSelector){apex.jQuery(f.dependingOnSelector).change(h)}g.bind("apexrefresh",e);if(f.action==="REDIRECT_SET_VALUE"){g.find("input").click(function(){location.href="f?p="+$v("pFlowId")+":"+$v("pFlowStepId")+":"+$v("pInstance")+"::"+$v("pdebug")+"::"+g.attr("id")+":"+$v(g.attr("id"))})}else{if(f.action==="SUBMIT"){g.find("input").click(function(){apex.submit(g.attr("id"))})}}};apex.widget.checkbox=function(a,b){apex.widget.checkboxAndRadio(a,"checkbox",b)};apex.widget.radioGroup=function(a,b){apex.widget.checkboxAndRadio(a,"radio",b)};apex.widget.shuttle=function(q,d){var f=apex.jQuery.extend({dependingOnSelector:null,optimizeRefresh:true,pageItemsToSubmit:null,optionAttributes:null},d);var o=apex.jQuery(q),v=apex.jQuery(q+"_LEFT"),a=apex.jQuery(q+"_RIGHT"),w=apex.jQuery("option",v),s=apex.jQuery("option",a);apex.jQuery(q).each(function(){apex.widget.initPageItem(this.id,{enable:function(){var x;x=$x(this.id);c();apex.widget.enableIcon(apex.jQuery("td.shuttleControl a",x).add("td.shuttleSort2 a",x),"#");apex.jQuery("select",x).removeAttr("disabled").removeClass("apex_disabled")},disable:function(){var x;x=$x(this.id);apex.jQuery("option:selected",x).attr("selected",false);apex.widget.disableIcon(apex.jQuery("td.shuttleControl a",x).add("td.shuttleSort2 a",x));apex.jQuery("select",x).attr("disabled",true).addClass("apex_disabled")},setValue:function(x){var z;n();z=apex.util.toArray(x);for(var y=0;y<z.length;y++){apex.jQuery("option",v[0]).each(function(){if(this.value==z[y]){apex.jQuery(this).clone().appendTo(a).attr("selected",true).end().end().remove();return false}})}},getValue:function(){var x=[];apex.jQuery("option",a[0]).each(function(){x[x.length]=this.value});return x}})});function j(){o.trigger("apexrefresh")}function u(y){apex.jQuery(".loading-indicator",o).remove();if(y.error){alert(y.error);return false}var x="";apex.jQuery.each(y,function(){x=x+'<option value="'+this.r+'" '+f.optionAttributes+">"+this.d+"</option>"});w=v.append(x).children();o.trigger("apexafterrefresh")}function e(){o.trigger("apexbeforerefresh");w=v.empty().children();s=a.empty().children();o.change();if(f.optimizeRefresh){var y=false;apex.jQuery(f.dependingOnSelector).each(function(){if(apex.item(this).isEmpty()){y=true;return false}});if(y){o.trigger("apexafterrefresh");return}}var x={p_arg_names:[],p_arg_values:[],p_request:"NATIVE="+f.ajaxIdentifier,p_flow_id:$v("pFlowId"),p_flow_step_id:$v("pFlowStepId"),p_instance:$v("pInstance")};apex.jQuery(f.dependingOnSelector+","+f.pageItemsToSubmit).each(function(){var z=x.p_arg_names.length;x.p_arg_names[z]=this.id;x.p_arg_values[z]=$v(this)});apex.jQuery("td.shuttleControl",o).prepend('<span class="loading-indicator"></span>');apex.jQuery.ajax({mode:"abort",port:"shuttle"+q,dataType:"json",type:"post",url:"wwv_flow.show",traditional:true,data:x,success:u})}function l(){v.empty().append(w).children().attr("selected",false);a.empty().append(s).children().attr("selected",false);o.change();return false}function i(x,y){apex.jQuery("option:selected",a).attr("selected",false);apex.jQuery("option"+(y?"":":selected"),v).clone().appendTo(a).attr("selected",true).end().end().remove();o.change();return false}function t(){i(null,true);return false}function k(x,y){apex.jQuery("option:selected",v).attr("selected",false);apex.jQuery("option"+(y?"":":selected"),a).clone().appendTo(v).attr("selected",true).end().end().remove();o.change();return false}function n(){k(null,true);return false}function h(){apex.jQuery("option:selected",a).clone().prependTo(a).attr("selected",true).end().end().remove();o.trigger("shuttlechangeorder");return false}function g(){apex.jQuery("option:selected",a).each(function(){var x=apex.jQuery(this).prev();if(x.length===0||x.attr("selected")){return}apex.jQuery(this).clone().insertBefore(x).attr("selected",true).end().end().remove()});o.trigger("shuttlechangeorder");return false}function m(){apex.jQuery("option:selected",a).each(function(){var x=apex.jQuery(this).next();if(x.length===0||x.attr("selected")){return}apex.jQuery(this).clone().insertAfter(x).attr("selected",true).end().end().remove()});o.trigger("shuttlechangeorder");return false}function b(){apex.jQuery("option:selected",a).clone().appendTo(a).attr("selected",true).end().end().remove();o.trigger("shuttlechangeorder");return false}function r(x){x.stopImmediatePropagation()}function c(){apex.jQuery(q+"_RESET").click(l);apex.jQuery(q+"_MOVE").click(i);apex.jQuery(q+"_MOVE_ALL").click(t);apex.jQuery(q+"_REMOVE").click(k);apex.jQuery(q+"_REMOVE_ALL").click(n);apex.jQuery(q+"_TOP").click(h);apex.jQuery(q+"_UP").click(g);apex.jQuery(q+"_DOWN").click(m);apex.jQuery(q+"_BOTTOM").click(b)}if(!window.flowSelectArray){window.flowSelectArray=[]}window.flowSelectArray[window.flowSelectArray.length]=a.attr("id");if(f.dependingOnSelector){apex.jQuery(f.dependingOnSelector).change(j)}o.bind("apexrefresh",e);v.change(r);a.change(r);apex.jQuery(v).dblclick(i);apex.jQuery(a).dblclick(k);c()};apex.widget.listManager=function(b,d){var g=apex.jQuery.extend({dependingOnSelector:null,optimizeRefresh:true,pageItemsToSubmit:null,filterWithValue:false,windowParameters:null},d),e=apex.jQuery(b);apex.jQuery(b).each(function(){apex.widget.initPageItem(this.id,{enable:function(){var i;i=$x(this.id+"_fieldset");apex.jQuery(":input",i).removeAttr("disabled").filter("[type!=button]").removeClass("apex_disabled");a();apex.widget.enableIcon(apex.jQuery(i),"#")},disable:function(){var i;i=$x(this.id+"_fieldset");apex.jQuery("option:selected",$x(this.id)).attr("selected",false);apex.jQuery(":input",i).attr("disabled",true).filter("[type!=button]").addClass("apex_disabled");apex.widget.disableIcon(apex.jQuery(i))},hide:function(){apex.jQuery("#"+this.id+"_fieldset").hide()},show:function(){apex.jQuery("#"+this.id+"_fieldset").show()},setValue:function(j){if(typeof(j)!=="undefined"){var k,i;k=[];k=apex.util.toArray(j);apex.jQuery.each(k,function(l,m){i+='<option value="'+m+'">'+m+"</option>"});e.find("option").remove().end().append(i)}},getValue:function(){var i=[];apex.jQuery("option",e[0]).each(function(){i[i.length]=this.value});return i}})});function h(){e.trigger("apexrefresh")}function f(){e.trigger("apexbeforerefresh");apex.jQuery(b+"_ADD").val("");apex.jQuery("option",e).remove();e.change();e.trigger("apexafterrefresh");return}function c(){var j="wwv_flow.show?p_flow_id="+$v("pFlowId")+"&p_flow_step_id="+$v("pFlowStepId")+"&p_instance="+$v("pInstance")+"&p_request=NATIVE%3D"+g.ajaxIdentifier;if(g.filterWithValue){j=j+"&x02="+encodeURIComponent(apex.jQuery(b+"_ADD").val())}apex.jQuery(g.dependingOnSelector+","+g.pageItemsToSubmit).each(function(){j=j+"&p_arg_names="+encodeURIComponent(this.id)+"&p_arg_values="+encodeURIComponent($v(this))});var i=open(j,"winLovList",g.windowParameters);if(i.opener==null){i.opener=self}i.focus();return false}function a(){apex.jQuery(b+"_ADD_fieldset a").click(c)}a();if(g.dependingOnSelector){apex.jQuery(g.dependingOnSelector).change(h)}e.bind("apexrefresh",f);if(!window.flowSelectArray){window.flowSelectArray=[]}window.flowSelectArray[window.flowSelectArray.length]=e.attr("id")};apex.widget.ckeditor3=function(b,d){var c=apex.jQuery.extend({toolbar:"Basic",toolbarStartupExpanded:true,disableNativeSpellChecker:false,menu_groups:"clipboard,tablecell,tablecellproperties,tablerow,tablecolumn,table,anchor,link,image,flash"},d);var e=0;if(c.toolbar==="Basic"){if(c.skin==="kama"){e=c.toolbarStartupExpanded?185:205}else{if(c.skin==="office2003"){e=c.toolbarStartupExpanded?181:201}else{if(c.skin==="v2"){e=c.toolbarStartupExpanded?175:195}}}}else{if(c.toolbar==="Intermediate"){if(c.skin==="kama"){e=c.toolbarStartupExpanded?240:260}else{if(c.skin==="office2003"){e=c.toolbarStartupExpanded?235:255}else{if(c.skin==="v2"){e=c.toolbarStartupExpanded?230:250}}}}else{if(c.toolbar==="Full"){if(c.skin==="kama"){e=c.toolbarStartupExpanded?530:530}else{if(c.skin==="office2003"){e=c.toolbarStartupExpanded?590:605}else{if(c.skin==="v2"){e=c.toolbarStartupExpanded?575:595}}}}}}var a=(c.skin==="kama"?25:20);if(c.toolbar==="Basic"){c.toolbar=[["Bold","Italic","-","NumberedList","BulletedList","-","Link","Unlink"]]}else{if(c.toolbar==="Intermediate"){c.toolbar=[["Cut","Copy","Paste","-","Bold","Italic","Underline","-","NumberedList","BulletedList","-","Outdent","Indent","-","Link","Unlink"],"/",["Format","Font","FontSize","TextColor","-","JustifyLeft","JustifyCenter","JustifyRight"]]}else{if(c.toolbar==="Full"){c.toolbar=[["Cut","Copy","Paste","PasteText","PasteFromWord","-","Print","Preview"],["Templates"],["Link","Unlink","Anchor"],["Image","Table","HorizontalRule","Smiley","SpecialChar","PageBreak"],"/",["Bold","Italic","Underline","Strike","-","Subscript","Superscript"],["NumberedList","BulletedList","-","Outdent","Indent","Blockquote"],["JustifyLeft","JustifyCenter","JustifyRight","JustifyBlock"],["TextColor","BGColor"],["ShowBlocks"],"/",["Styles","Format","Font","FontSize"],["Maximize","Source"]]}}}if(c.toolbarStartupExpanded){c.toolbarCanCollapse=false}apex.jQuery(b).each(function(){var f=c;f.height=(this.rows*15)+a;f.width=(this.cols*9.5<e)?e:this.cols*9.5;f.resize_minHeight=f.height;f.resize_minWidth=f.width;CKEDITOR.replace(this.id,f);apex.widget.initPageItem(this.id,{enable:function(){alert("Enable not supported.")},disable:function(){alert("Disable not supported.")},show:function(){apex.jQuery("#cke_"+this.id).show()},hide:function(g){apex.jQuery("#cke_"+this.id).hide()},setValue:function(g){var h=CKEDITOR.instances[this.id];h.setData(g)},getValue:function(){var g=CKEDITOR.instances[this.id];return g.getData()}})})};apex.widget.datepicker=function(a,c,d,f){var e=null;if(!c.showTime){e=function(j,i){if(i.inline){var h=i.settings.altField;if(h.indexOf("#")==0){h=h.substr(1,h.length)}if(h){$s(h,j)}}else{$s(i.id,j)}}}var b=apex.jQuery.extend({dateFormat:d,duration:"",constrainInput:false,onSelect:e},c);b=apex.jQuery.extend(apex.jQuery.datepicker.regional[f],b);var g=apex.jQuery(a).datepicker(b);apex.jQuery(a).each(function(){apex.widget.initPageItem(this.id,{enable:function(){apex.jQuery("#"+this.id).datepicker("enable").removeClass("apex_disabled")},disable:function(){apex.jQuery("#"+this.id).datepicker("disable").addClass("apex_disabled")},show:function(){apex.jQuery("#"+this.id).parent().children().show()},hide:function(){apex.jQuery("#"+this.id).parent().children().hide()}})})};apex.widget.colorpicker=function(a,b){apex.jQuery(a).each(function(){var c=this;apex.jQuery("#"+this.id+"_PICKER").click(function(){colorPopUp(c.id)});apex.jQuery("#"+this.id).change(function(){changePreviewColor(this)});apex.widget.initPageItem(this.id,{enable:function(){apex.jQuery("#"+this.id).removeAttr("disabled").removeClass("apex_disabled");apex.jQuery("#"+this.id+"_PICKER").click(function(){colorPopUp(c.id)});apex.widget.enableIcon(apex.jQuery("#"+this.id+"_fieldset"),"#")},disable:function(){apex.jQuery("#"+this.id).attr("disabled",true).addClass("apex_disabled");apex.widget.disableIcon(apex.jQuery("#"+this.id+"_fieldset"))},show:function(){apex.jQuery("#"+this.id).closest("tr").show()},hide:function(){apex.jQuery("#"+this.id).closest("tr").hide()}})})};apex.widget.datepickerClassic=function(a,b){apex.jQuery(a).each(function(){var c=apex.jQuery("#"+this.id+"_IMG").parent("a");apex.widget.initPageItem(this.id,{enable:function(){var d;apex.jQuery("#"+this.id).removeAttr("disabled").removeClass("apex_disabled");d=$nvl(c.data("old_href"),c.attr("href"));apex.widget.enableIcon(c,d)},disable:function(){apex.jQuery("#"+this.id).attr("disabled","disabled").addClass("apex_disabled");c.data("old_href",c.attr("href"));apex.widget.disableIcon(c)},show:function(){apex.jQuery("#"+this.id).closest("tr").show()},hide:function(){apex.jQuery("#"+this.id).closest("tr").hide()}})})};apex.widget.tree={};(function(a){a.cTreeTypes={"default":{clickable:true,renameable:false,deletable:false,creatable:true,draggable:false,copyable:false,editable:false,max_children:-1,max_depth:0,valid_children:"none",icon:{image:false,position:false}}};a.init=function(c,d,k,f,g,e,j){if($v("pScreenReaderMode")==="YES"){var h="";function b(m){if(m.length>0){h+="<ul>";for(var l=0;l<m.length;l++){h+="<li>";if(m[l].data.attributes.href){h+='<a href="'+m[l].data.attributes.href+'"'+(m[l].data.attributes.tooltip?' title="'+m[l].data.attributes.tooltip+'"':"")+">"+m[l].data.title+"</a>"}else{h+=m[l].data.title}if(m[l].children){b(m[l].children)}h+="</li>"}h+="</ul>"}}b(k);apex.jQuery("#"+c).append(h)}else{var i=apex.jQuery("#"+c).tree({data:{type:"json",async:true,opts:{"static":k,isTreeLoaded:false,method:"POST",url:"wwv_flow.show"}},ui:{theme_name:f},types:d,rules:{valid_children:"root",use_max_depth:true},callback:{},root:{draggable:false,valid_children:"folder"},folder:{valid_children:"file"},file:{valid_children:"none",max_children:0,max_depth:0}});if(e=="S"){apex.jQuery("#"+c).click(a.onclick)}else{apex.jQuery("#"+c).dblclick(a.onclick)}apex.jQuery("a[tooltip]","#"+c).bind("mouseover",a.showTooltip);apex.jQuery.tree.reference(i).open_branch(apex.jQuery("#"+g));if(j){apex.jQuery.tree.reference(i).select_branch(apex.jQuery("#"+j))}}};a.onselect=function(d,e){var c,b=e.get_node(d);c=apex.jQuery("a",b).attr("href");document.location.href=c};a.onclick=function(b){var c=apex.jQuery(b.target).attr("href");if(c&&c!=""){document.location.href=c}};a.expand_all=function(b){if($v("pScreenReaderMode")==="YES"){}else{var c=apex.jQuery("#"+b);apex.jQuery.tree.reference(c).open_all()}};a.collapse_all=function(b){if($v("pScreenReaderMode")==="YES"){}else{var c=apex.jQuery("#"+b);apex.jQuery.tree.reference(c).close_all()}};a.reset=function(c,b){if($v("pScreenReaderMode")==="YES"){}else{var d=apex.jQuery("#"+c);apex.jQuery.tree.reference(d).close_all();apex.jQuery.tree.reference(d).open_branch(apex.jQuery("#"+b))}};a.showTooltip=function(b){var c=apex.jQuery(b.target).attr("tooltip");if(c&&c!=""){toolTip_enable(b,this,apex.jQuery(this).attr("tooltip"))}};a.hideTooltip=function(){toolTip_disable()}})(apex.widget.tree);apex.widget.calendar={dialog:function(h){var f=0;var e=0;var b={forceAbsolute:false,container:window,completeHandler:null};apex.jQuery.extend(b,{container:window,forceAbsolute:true});var d=apex.jQuery("#apex_cal_DATA_PANEL_DROP");var i=apex.jQuery(b.container);var g=b.container==window;var a=g?2:1.8;f=(g?i.width():i.outerWidth())/2-d.outerWidth()/2;e=(g?i.height():i.outerHeight())/a-d.outerHeight()/2;if(h=="close"){$x_Hide("apex_cal_DATA_PANEL_DROP")}else{var c=apex.jQuery("#apex_cal_DATA_PANEL_DROP");c.animate({borderBottomColor:"black"},100);c.animate({borderLeftColor:"black"},100);c.animate({borderRightColor:"black"},100);c.animate({borderTopColor:"black"},100);if($x("apex_cal_DATA_PANEL_DROP").style!=undefined){$x("apex_cal_DATA_PANEL_DROP").style.left=f+i.scrollLeft();$x("apex_cal_DATA_PANEL_DROP").style.top=e+i.scrollTop()}$x_Show("apex_cal_DATA_PANEL_DROP")}},get_hidden_column:function(){var b=$x_FormItems("apex_cal_DATA_PANEL_DROP");if(b!=undefined){for(var a=0;a<b.length;a++){if(b[a].id!="apex_cal_table_name"&&b[a].id!="apex_cal_primary_key"&&b[a].id!="apex_cal_primary_value"&&b[a].id!="apex_cal_checksum"&&b[a].type=="hidden"){return b[a].id}}}return null},get_field_count:function(){var a=0;var c=$x_FormItems("apex_cal_DATA_PANEL_DROP");if(c!=undefined){for(var b=0;b<c.length;b++){if(c[b].id!="apex_cal_primary_key"&&c[b].id!="apex_cal_table_name"&&c[b].id!="apex_cal_primary_value"&&c[b].id!="apex_cal_checksum"&&(c[b].type=="hidden"||c[b].type=="text")){a++}}}return a},parse_column_name:function(b){var a=b.substring(14,b.length);a=a.substring(a.indexOf("_")+1,a.length);return a},form_item_values:function(b,d){var c=$x_FormItems("apex_cal_DATA_PANEL_DROP");if(c!=undefined){for(var a=0;a<c.length;a++){if(c[a].id.substring(0,14)=="apex_cal_data_"&&c[a].id!="apex_cal_primary_key"&&c[a].id!="apex_cal_primary_value"&&c[a].id!="apex_cal_table_name"&&(c[a].type=="hidden"||c[a].type=="text")){if(unescape(b)==apex.widget.calendar.parse_column_name(c[a].id)){$s(c[a].id,unescape(d))}}else{if(c[a].id=="apex_cal_checksum"){if(b==c[a].id){$s(c[a].id,unescape(d))}}}}}},clear_form_data:function(){var b=$x_FormItems("apex_cal_DATA_PANEL_DROP");$x("apex_cal_div_error_text").innerHTML="";if(b!=undefined){for(var a=0;a<b.length;a++){if(b[a].id!="apex_cal_primary_key"&&b[a].id!="apex_cal_table_name"&&(b[a].type=="hidden"||b[a].type=="text")){$s(b[a].id,"")}}}},ajax_calendar:function(c,f,i,g){var k=$v("p_cal_type_field_id");var e=$v("p_cal_date_field_id");var m=$v("p_cal_end_date_field_id");var h=$v("p_calendar_id");var b="calendar"+h;if(c!="C"){$s(e,$v("p_calendar_date"))}else{if($v(e)==""){$s(e,$v("p_calendar_date"))}if($v(m)==""){$s(m,$v("p_calendar_end_date"))}}var j=new apex.ajax.widget("calendar",function(){if(p.readyState==1){document.body.style.cursor="wait"}else{if(p.readyState==2){}else{if(p.readyState==3){}else{if(p.readyState==4){$x(b).innerHTML=p.responseText;$s(e,$v("p_calendar_date"));if(c=="C"){$s(m,$v("p_calendar_end_date"))}document.body.style.cursor=""}else{return false}}}}});if(c=="S"){c=$v("p_calendar_type")}else{$s(k,c)}j.ajax.addParam("p_widget_mod",c);j.ajax.addParam("p_widget_action",f);j.ajax.addParam("x01",h);var d=(!!i&&i!=="")?i:$v(e);if(c=="C"){var l=(!!g&&g!=="")?g:$v(m)}j.ajax.add(e,d);if(c=="C"){j.ajax.add(m,l)}j.ajax.addParam("x02",d);if(c=="C"){j.ajax.addParam("x05",l)}j.ajax.add(k,c);j._get()},edit:function(f,d){var e="apex_cal_DATA_PANEL_DROP";var c=new Array();apex.widget.calendar.clear_form_data();var b=new apex.ajax.widget("calendar",function(){if(p.readyState==1){document.body.style.cursor="wait"}else{if(p.readyState==2){}else{if(p.readyState==3){}else{if(p.readyState==4){var a=$u_eval("("+p.responseText+")");apex.jQuery(a).each(function(g){apex.widget.calendar.form_item_values(this.name,this.value)});$s("apex_cal_primary_value",f);document.body.style.cursor="";apex.widget.calendar.dialog("open")}else{return false}}}}});b.ajax.addParam("p_widget_mod",$v("p_calendar_type"));b.ajax.addParam("p_widget_action","GETDATA");b.ajax.addParam("x03",$v("apex_cal_table_name"));b.ajax.addParam("x04",apex.widget.calendar.get_field_count());b.ajax.addParam("x06",f);if(d!=""){b.ajax.addParam("x05",d)}b.ajax.AddArrayItems2($x_FormItems("apex_cal_DATA_PANEL_DROP"),1);b._get()},initDragDrop:function(){var b=true;var a=apex.jQuery("#calendar_data_drag");apex.jQuery("span.apex_cal_data_grid_src",a).draggable({revert:"invalid",helper:"clone",cursor:"move",dragstart:function(c,d){apex.jQuery(this).height(180);apex.jQuery(this).width(181)}});apex.jQuery("div.calDragDrop",a).parent().droppable({accept:"#calendar_data_drag span.apex_cal_data_grid_src",activeClass:"custom-state-active",drop:function(c,d){apex.widget.calendar.move(this,c,d.draggable)}});apex.jQuery(".calDragDrop").parent().bind("click",function(c){apex.widget.calendar.add(apex.jQuery(this).find("input#apex_cal_grid_target").val())})},move:function(g,e,h){var c=$v("p_cal_type_field_id");var i=$v("p_cal_date_field_id");var n=$v("p_cal_end_date_field_id");var f=apex.jQuery(e.target);var m=h.find("input#apex_cal_date_source").val();var b=f.find("input#apex_cal_grid_target").val();$s(i,$v("p_calendar_date"));var j=$v("p_calendar_id");var l="calendar"+j;var k=new apex.ajax.widget("calendar",function(){if(p.readyState==1){document.body.style.cursor="wait"}else{if(p.readyState==2){}else{if(p.readyState==3){}else{if(p.readyState==4){if(p.responseText.indexOf("columnList")==0){var q=$u_eval("("+p.responseText+")");var a="";apex.jQuery(q).each(function(r){a=a+this.value});$x("apex_cal_div_error_text").innerHTML=a}else{$x(l).innerHTML=p.responseText;$s(i,$v("p_calendar_date"));if($v("p_calendar_type")=="C"){$s(n,$v("p_calendar_end_date"))}}document.body.style.cursor=""}else{return false}}}}});k.ajax.addParam("p_widget_mod",$v("p_calendar_type"));k.ajax.addParam("p_widget_action","MOVE");k.ajax.addParam("x01",j);var d=$v(i);if($v("p_calendar_type")=="C"){var o=$v(n)}k.ajax.add(i,d);if($v("p_calendar_type")=="C"){k.ajax.add(n,o)}k.ajax.addParam("x02",d);if($v("p_calendar_type")=="C"){k.ajax.addParam("x05",o)}k.ajax.add(c,$v("p_calendar_type"));k.ajax.addParam("x03",$v("apex_cal_table_name"));k.ajax.addParam("x06",$v("apex_cal_primary_key"));k.ajax.addParam("x07",m);k.ajax.addParam("x08",$v("p_date_column_name"));k.ajax.addParam("x09",b);k._get()},save:function(){var i=$v("p_cal_type_field_id");var d=$v("p_cal_date_field_id");var k=$v("p_cal_end_date_field_id");var f="UPDATE";$s(d,$v("p_calendar_date"));var e=new Array();var g=$v("p_calendar_id");var b="calendar"+g;var h=new apex.ajax.widget("calendar",function(){if(p.readyState==1){document.body.style.cursor="wait"}else{if(p.readyState==2){}else{if(p.readyState==3){}else{if(p.readyState==4){if(p.responseText.indexOf("columnList")==0){var l=$u_eval("("+p.responseText+")");var a="";apex.jQuery(l).each(function(m){a=a+this.value});$x("apex_cal_div_error_text").innerHTML=a}else{$x(b).innerHTML=p.responseText;$s(d,$v("p_calendar_date"));if($v("p_calendar_type")=="C"){$s(k,$v("p_calendar_end_date"))}}document.body.style.cursor=""}else{return false}}}}});h.ajax.addParam("p_widget_mod",$v("p_calendar_type"));if($v("apex_cal_primary_value")==""){f="CREATE"}h.ajax.addParam("p_widget_action",f);h.ajax.addParam("x01",g);var c=$v(d);if($v("p_calendar_type")=="C"){var j=$v(k)}h.ajax.add(d,c);if($v("p_calendar_type")=="C"){h.ajax.add(k,j)}h.ajax.addParam("x02",c);if($v("p_calendar_type")=="C"){h.ajax.addParam("x05",j)}h.ajax.add(i,$v("p_calendar_type"));h.ajax.addParam("x03",$v("apex_cal_table_name"));h.ajax.addParam("x04",apex.widget.calendar.get_field_count());h.ajax.addParam("x06",$v("apex_cal_primary_key"));h.ajax.addParam("x07",$v("apex_cal_primary_value"));h.ajax.addParam("x08",$v("apex_cal_checksum"));h.ajax.AddArrayItems2($x_FormItems("apex_cal_DATA_PANEL_DROP"),1);h._get()},add:function(a){apex.widget.calendar.clear_form_data();$s($x(apex.widget.calendar.get_hidden_column()),a);apex.widget.calendar.dialog("open")}};ajax_calendar=apex.widget.calendar.ajax_calendar;function Timepicker(){}Timepicker.prototype={init:function(){this._mainDivId="ui-timepicker-div";this._inputId=null;this._orgValue=null;this._orgHour=null;this._orgMinute=null;this._colonPos=-1;this._visible=false;this.tpDiv=apex.jQuery('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all ui-helper-hidden-accessible" style="width: 100px; display: none; position: absolute;"></div>');apex.jQuery.extend(apex.jQuery.datepicker._defaults,{time24h:false,showTime:false,ampmNames:["AM","PM"],timeFormat:"HH:NI",altTimeField:"",defHour:0,defMinute:0,defAmpm:"",escapeKey:false});apex.jQuery.datepicker._connectDatepickerOverride=apex.jQuery.datepicker._connectDatepicker;apex.jQuery.datepicker._connectDatepicker=function(c,b){apex.jQuery.datepicker._connectDatepickerOverride(c,b);if(this._get(b,"showTime")){b.settings.showButtonPanel=true}var a=this._get(b,"showOn");if(a=="button"||a=="both"){b.trigger.unbind("click");b.trigger.click(function(){if(apex.jQuery.datepicker._datepickerShowing&&apex.jQuery.datepicker._lastInput==c){apex.jQuery.datepicker._hideDatepicker(null)}else{apex.jQuery.datepicker._showDatepicker(c)}return false})}};apex.jQuery.datepicker._showDatepickerOverride=apex.jQuery.datepicker._showDatepicker;apex.jQuery.datepicker._showDatepicker=function(b){apex.jQuery.datepicker._showDatepickerOverride(b);b=b.target||b;if(b.nodeName.toLowerCase()!="input"){b=apex.jQuery("input",b.parentNode)[0]}if(apex.jQuery.datepicker._isDisabledDatepicker(b)){return}var c=apex.jQuery.datepicker._getInst(b);var a=apex.jQuery.datepicker._get(c,"showTime");if(a){apex.jQuery.timepicker.show(b)}};apex.jQuery.datepicker._checkExternalClickOverride=apex.jQuery.__checkExternalClick;apex.jQuery.datepicker._checkExternalClick=function(b){if(!$.datepicker._curInst){return}var a=$(b.target);if(a[0].id!=$.datepicker._mainDivId&&a.parents("#"+$.datepicker._mainDivId).length==0&&!a.hasClass($.datepicker.markerClassName)&&!a.hasClass($.datepicker._triggerClass)&&$.datepicker._datepickerShowing&&!($.datepicker._inDialog&&$.blockUI)){$.datepicker._curInst.escapeKey=true;$.datepicker._hideDatepicker()}};apex.jQuery.datepicker._doKeyDownOverride=apex.jQuery.datepicker._doKeyDown;apex.jQuery.datepicker._doKeyDown=function(b){var d=$.datepicker._getInst(b.target);var e=true;var a=d.dpDiv.is(".ui-datepicker-rtl");d._keyEvent=true;d.escapeKey=false;if($.datepicker._datepickerShowing){switch(b.keyCode){case 9:$.datepicker._hideDatepicker();e=false;break;case 13:var c=$("td."+$.datepicker._dayOverClass,d.dpDiv).add($("td."+$.datepicker._currentClass,d.dpDiv));if(c[0]){$.datepicker._selectDay(b.target,d.selectedMonth,d.selectedYear,c[0])}else{$.datepicker._hideDatepicker()}return false;break;case 27:d.escapeKey=true;$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(b.target,(b.ctrlKey?-$.datepicker._get(d,"stepBigMonths"):-$.datepicker._get(d,"stepMonths")),"M");break;case 34:$.datepicker._adjustDate(b.target,(b.ctrlKey?+$.datepicker._get(d,"stepBigMonths"):+$.datepicker._get(d,"stepMonths")),"M");break;case 35:if(b.ctrlKey||b.metaKey){$.datepicker._clearDate(b.target)}e=b.ctrlKey||b.metaKey;break;case 36:if(b.ctrlKey||b.metaKey){$.datepicker._gotoToday(b.target)}e=b.ctrlKey||b.metaKey;break;case 37:if(b.ctrlKey||b.metaKey){$.datepicker._adjustDate(b.target,(a?+1:-1),"D")}e=b.ctrlKey||b.metaKey;if(b.originalEvent.altKey){$.datepicker._adjustDate(b.target,(b.ctrlKey?-$.datepicker._get(d,"stepBigMonths"):-$.datepicker._get(d,"stepMonths")),"M")}break;case 38:if(b.ctrlKey||b.metaKey){$.datepicker._adjustDate(b.target,-7,"D")}e=b.ctrlKey||b.metaKey;break;case 39:if(b.ctrlKey||b.metaKey){$.datepicker._adjustDate(b.target,(a?-1:+1),"D")}e=b.ctrlKey||b.metaKey;if(b.originalEvent.altKey){$.datepicker._adjustDate(b.target,(b.ctrlKey?+$.datepicker._get(d,"stepBigMonths"):+$.datepicker._get(d,"stepMonths")),"M")}break;case 40:if(b.ctrlKey||b.metaKey){$.datepicker._adjustDate(b.target,+7,"D")}e=b.ctrlKey||b.metaKey;break;default:e=false}}else{if(b.keyCode==36&&b.ctrlKey){$.datepicker._showDatepicker(this)}else{e=false}}if(e){b.preventDefault();b.stopPropagation()}};apex.jQuery.datepicker._hideDatepickerOverride=apex.jQuery.datepicker._hideDatepicker;apex.jQuery.datepicker._hideDatepicker=function(b,d){var c=this._curInst;if(!c||(b&&c!=apex.jQuery.data(b,PROP_NAME))){return}var a=this._get(c,"showTime");if(b===undefined&&a&&!c.escapeKey){if(c.input){c.input.val(this._formatDate(c))}this._updateAlternate(c);if(a){apex.jQuery.timepicker.update(this._formatDate(c),c)}}c.escapeKey=false;apex.jQuery.datepicker._hideDatepickerOverride(b,d)};apex.jQuery.datepicker._selectDate=function(f,b){var e=apex.jQuery(f);var d=this._getInst(e[0]);var a=this._get(d,"showTime");b=(b!=null?b:this._formatDate(d));if(!a){if(d.input){d.input.val(b)}this._updateAlternate(d)}var c=this._get(d,"onSelect");if(c){c.apply((d.input?d.input[0]:null),[b,d])}else{if(d.input&&!a){d.input.trigger("change")}}if(d.inline){this._updateDatepicker(d)}else{if(!d.stayOpen){if(a){this._updateDatepicker(d)}else{this._hideDatepicker(null,this._get(d,"duration"));this._lastInput=d.input[0];if(typeof(d.input[0])!="object"){d.input[0].focus()}this._lastInput=null}}}};apex.jQuery.datepicker._updateDatepickerOverride=apex.jQuery.datepicker._updateDatepicker;apex.jQuery.datepicker._updateDatepicker=function(a){apex.jQuery.datepicker._updateDatepickerOverride(a);apex.jQuery.timepicker._generateTimeHtml(a)}},show:function(n){var g=apex.jQuery.datepicker._getInst(n);var i;var c;var l;this._time24h=apex.jQuery.datepicker._get(g,"time24h");this._altTimeField=apex.jQuery.datepicker._get(g,"altTimeField");this._timeFormat=apex.jQuery.datepicker._get(g,"timeFormat");ldateFormat=apex.jQuery.datepicker._get(g,"dateFormat");this._inputId=n.id;if(!this._visible){this._parseTime(this._timeFormat);this._orgValue=apex.jQuery("#"+this._inputId).val()}if(apex.jQuery("#"+this._inputId).val()!=""&&apex.jQuery("#"+this._inputId).val()!=null){try{var d=this._getFormatConfig(g);var b=this._parseDateTime(ldateFormat,apex.jQuery("#"+this._inputId).val(),d);i=b.getHours();l=(i>=12)?"PM":"AM";c=b.getMinutes()}catch(k){i=apex.jQuery.datepicker._get(g,"defHour");c=apex.jQuery.datepicker._get(g,"defMinute")}this._setTime("hour",i);this._setTime("minute",c);if(!this._time24h){this._setTime("ampm",l)}this._orgHour=i;this._orgMinute=c}this.resize();apex.jQuery("#"+this._mainDivId).show();this._visible=true;var a=apex.jQuery("#"+apex.jQuery.datepicker._mainDivId);var j=a.position();var f=(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)+apex.jQuery(document).scrollLeft();var o=this.tpDiv.offset().left+this.tpDiv.outerWidth();if(o>f){a.css("left",j.left-(o-f)-5);this.tpDiv.css("left",a.offset().left+a.outerWidth()+"px")}},update:function(b,j){var l=new RegExp("hh((24)|(12))?","gi");var k=new RegExp("ii","gi");var e=new RegExp("ss","gi");var h=new RegExp("((%at%)|(%pt%))","gi");var f=apex.jQuery.datepicker._get(j,"timeFormat");var i=$v(this._mainDivId+"hour");var a=$v(this._mainDivId+"minute");var g="";var m="";var d;if(this._time24h){d=f.replace("HH24",i).replace("ii",a).replace("SS","00")}else{g=$v(this._mainDivId+"ampm");m=(f.indexOf("SS")==-1)?" "+g:"";d=f.replace("HH",i).replace("ii",a+m).replace("SS","00 "+g)}var c=apex.jQuery("#"+this._inputId).val();$s(this._inputId,b.replace(l,i).replace(k,a).replace(e,"00").replace(h,g));if(this._altTimeField){apex.jQuery(this._altTimeField).each(function(){apex.jQuery(this).val(d)})}},hide:function(){this._visible=false;apex.jQuery("#"+this._mainDivId).hide()},resize:function(){var a=apex.jQuery("#"+apex.jQuery.datepicker._mainDivId+" > div.ui-datepicker-header:first-child").height();apex.jQuery("#"+this._mainDivId+" > div.ui-datepicker-header:first-child").css("height",a)},_saveHour:function(a){this._defHour=$v(a)},_saveMinute:function(a){this._defMinute=$v(a)},_saveampm:function(a){this._defAmpm=$v(a)},_generateTimeHtml:function(j){var k="";var l=24;var b="00";var c="00";var h="";var m=apex.jQuery.datepicker._get(j,"time24h");this._time24h=m;var a=apex.jQuery.datepicker._get(j,"ampmNames");var g=j.input[0].value;var i=0;if(!m){l=13;b=12;i=1}if(this._defHour!=undefined){if(g!=""){b=this._defHour}else{b=apex.jQuery.datepicker._get(j,"defHour")}}else{b=apex.jQuery.datepicker._get(j,"defHour")}if(this._defMinute!=undefined){if(g!=""){c=this._defMinute}else{c=apex.jQuery.datepicker._get(j,"defMinute")}}else{c=apex.jQuery.datepicker._get(j,"defMinute")}if(this._defAmpm!=undefined){if(g!=""){h=this._defAmpm}else{h=apex.jQuery.datepicker._get(j,"defAmpm")}}else{h=apex.jQuery.datepicker._get(j,"defAmpm")}k='<div class="ui-helper-clearfix ui-corner-all">';k+='<span class="spanTime" style="float:right;"><table><tr><td>&nbsp;</td><td>&nbsp;</td><td>';k+='<table style="float:right;"><tr><td>';if(!m){k+='<select style="font-size:1em; margin:1px 0;float:right;" id="'+this._mainDivId+'ampm" class="datetimepicker_newMonth" onchange="apex.jQuery.timepicker._saveampm(this)" >';for(var n=0;n<2;n++){k+='<option value="'+a[n]+'"'+(a[n]==h?' selected="selected"':"")+">"+a[n]+"</option>"}k+="</select>"}k+='<select style="font-size:1em; margin:1px 0;float:right;" id="'+this._mainDivId+'minute" class="datetimepicker_newMonth" onchange="apex.jQuery.timepicker._saveMinute(this)" >';for(var e=0;e<60;e++){if(e<10){k+='<option value="0'+e+'"'+("0"+e==c?' selected="selected"':"")+">0"+e+"</option>"}else{k+='<option value="'+e+'"'+(e==c?' selected="selected"':"")+">"+e+"</option>"}}k+="</select>";k+='<select style="font-size:1em; margin:1px 0;float:right;" id="'+this._mainDivId+'hour" class="datetimepicker_newMonth" onchange="apex.jQuery.timepicker._saveHour(this)" >';for(var f=i;f<l;f++){if(f<10){k+='<option value="0'+f+'"'+("0"+f==b?' selected="selected"':"")+">0"+f+"</option>"}else{k+='<option value="'+f+'"'+(f==b?' selected="selected"':"")+">"+f+"</option>"}}k+="</select>";k+="</td></tr></table>";k+="</span></div>";var d=apex.jQuery("#"+apex.jQuery.datepicker._mainDivId+" div.ui-datepicker-buttonpane.ui-widget-content").html();apex.jQuery("#"+apex.jQuery.datepicker._mainDivId+" div.ui-datepicker-buttonpane.ui-widget-content").html(k+d)},_writeTime:function(a,b){if(a=="hour"){if(!this._time24h){if(b<=12){$x(this._mainDivId+"ampm").selectedIndex=0}else{$x(this._mainDivId+"ampm").selectedIndex=1;b-=12}this._ampm=$v(this._mainDivId+"ampm");if(b==0){b=12}}else{apex.jQuery("#"+this._mainDivId+" span.fragAmpm").text("")}if(b<10){b="0"+b}$s(this._mainDivId+"hour",b);this._hour=b}else{if(a=="minute"){if(b<10){b="0"+b}$s(this._mainDivId+"minute",b);this._minute=b}else{if(a=="ampm"){if(b=="PM"){$x(this._mainDivId+"ampm").selectedIndex=1}else{$x(this._mainDivId+"ampm").selectedIndex=0}this._ampm=$v(this._mainDivId+"ampm")}}}},_getFormatConfig:function(a){var b=apex.jQuery.datepicker._get(a,"shortYearCutoff");b=(typeof b!="string"?b:new Date().getFullYear()%100+parseInt(b,10));return{shortYearCutoff:b,dayNamesShort:apex.jQuery.datepicker._get(a,"dayNamesShort"),dayNames:apex.jQuery.datepicker._get(a,"dayNames"),monthNamesShort:apex.jQuery.datepicker._get(a,"monthNamesShort"),monthNames:apex.jQuery.datepicker._get(a,"monthNames")}},_parseDateTime:function(s,m,t){if(s==null||m==null){throw"Invalid arguments"}m=(typeof m=="object"?m.toString():m+"");if(m==""){return null}var d=(t?t.shortYearCutoff:null)||this._defaults.shortYearCutoff;var k=(t?t.dayNamesShort:null)||this._defaults.dayNamesShort;var v=(t?t.dayNames:null)||this._defaults.dayNames;var a=(t?t.monthNamesShort:null)||this._defaults.monthNamesShort;var f=(t?t.monthNames:null)||this._defaults.monthNames;var g=-1;var w=-1;var q=-1;var c=-1;var j=0;var x=0;var i="";var o=false;var l=function(z){var A=(e+1<s.length&&s.charAt(e+1)==z);if(A){e++}return A};var y=function(A){l(A);var B=(A=="y"?4:2);var z=0;while(B>0&&r<m.length&&m.charAt(r)>="0"&&m.charAt(r)<="9"){z=z*10+(m.charAt(r++)-0);B--}if(B==(A=="y"?4:2)){throw"Missing number at position "+r}return z};var h=function(E,B,F){var G=(l(E)?F:B);var H=0;for(var C=0;C<G.length;C++){H=Math.max(H,G[C].length)}var z="";var A=r;while(H>0&&r<m.length){z+=m.charAt(r++);for(var D=0;D<G.length;D++){if(z==G[D]){return D+1}}H--}throw"Unknown name at position "+A};var b=function(){var z="";var A=2;if(s.charAt(e)=="%"&&(s.charAt(e+1)=="a"||s.charAt(e+1)=="p")&&s.charAt(e+2)=="t"&&s.charAt(e+3)=="%"){while(A>0&&r<m.length){z+=m.charAt(r++);A--}e=e+4}return z};var n=function(){if(m.charAt(r)!=s.charAt(e)){throw"Unexpected literal at position "+r}r++};var r=0;for(var e=0;e<s.length;e++){if(o){if(s.charAt(e)=="'"&&!l("'")){o=false}else{n()}}else{switch(s.charAt(e)){case"h":c=y("h");break;case"H":c=y("H");break;case"i":j=y("i");break;case"s":x=y("s");break;case"%":i=b();break;case"d":q=y("d");break;case"D":h("D",k,v);break;case"m":w=y("m");break;case"M":w=h("M",a,f);break;case"y":g=y("y");break;case"'":if(l("'")){n()}else{o=true}break;default:n()}}}if(g<100){g+=new Date().getFullYear()-new Date().getFullYear()%100+(g<=d?0:-100)}if(i=="PM"){if(c!=12){c+=12}}else{if(c==12){c=0}}var u=new Date(g,w-1,q,c,j,x);if(u.getFullYear()!=g||u.getMonth()+1!=w||u.getDate()!=q){throw"Invalid date"}return u},_parseTime:function(e){var c=apex.jQuery("#"+this._inputId).val();if(apex.jQuery.trim(c)!=""){var i=":";if(/^HH\d\d.NI/i.test(e)){i=e.substr(4,1)}else{if(/^HH.NI/i.test(e)){i=e.substr(2,1)}}this._colonPos=c.search(i);var d=0,f=0,l=0,k="";var g=-1;if(this._colonPos!=-1){var j=e.indexOf("SS");var b;if(g!=-1){null}f=parseInt(c.substr(this._colonPos-2,2),10);d=parseInt(c.substr(this._colonPos+1,2),10);if(j==-1){b=c.substr(this._colonPos+3,this._colonPos+3+c.length).indexOf(" ");if(b==-1){b=this._colonPos+3+c.length}k=apex.jQuery.trim(c.substr(this._colonPos+3,b))}else{b=c.substr(this._colonPos+7,this._colonPos+7+c.length).indexOf(" ");if(b==-1){b=this._colonPos+7+c.length}k=apex.jQuery.trim(c.substr(this._colonPos+7,b))}}k=k.toLowerCase();if(k!="am"&&k!="pm"){k=""}if(f<0){f=0}if(d<0){d=0}if(f>23){f=23}if(d>59){d=59}if(k=="pm"&&f<12){f+=12}if(k=="am"&&f==12){f=1}this._setTime("hour",f);this._setTime("minute",d);this._orgHour=f;this._orgMinute=d}},_setTime:function(a,b){if(a!="ampm"){if(isNaN(b)){b=0}if(b<0){b=0}if(b>23&&a=="hour"){b=23}if(b>59&&a=="minute"){b=59}}this._writeTime(a,b)}};apex.jQuery(document).ready(function(){apex.jQuery.timepicker=new Timepicker();apex.jQuery.timepicker.init()});